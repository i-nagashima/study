# 再び関数コンポーネント

クラスでは全てのことができるが、とてもめんどくさいので関数コンポーネントがいい。  
でも関数コンポーネントではステートを扱うことができない。。。  
そこでフック（Hooks）

<br />

# フック（Hooks）とは？

「フック」は、コンポーネントに「再利用可能な振る舞い」を付加するために用意されたもの。  
フックを使えば、ステートを含む処理をコンポーネントから切り離し、再利用することができる。  
このフックがステートを使ったコンポーネントと何が違うのか？その最大のポイントは  
`関数コンポーネントで使える`  
という点。

<br />

`ちょっと寄り道 ※以外と重要`

---

<br />

# React Developer Tools

[chrome のプラグイン](https://chrome.google.com/webstore)

<br />

# JSX での{}

JSX では変数や関数は{}の中に書く
そのため、アロー関数、無名関数の{}は変数や関数として展開されてしまうので{} → () もしくは 書かない でやる

```jsx
Array.map((value) => {

})
↓
Array.map((value) => (

))
or
Array.map((value) =>
```

<br />

# JSX での class (css)

class はだめ。JavaScript の class と区別つかないから className とする

<br />

# JSX でのイベント

onclick はだめ。  
onClick とする。他のイベントも同じ。

<br />

# JSX での終了タグがないタグ

\<input\>はだめ。\<input />とする。もしくは \<input\>\</input\>

<br />

# JSX 記法のルールを知る

return は１つの HTML エレメントだけ。  
そのため\<div\>\</div\>で囲うのたが、余計な div がはいってしまうので React.Fragment を使う

```jsx
const App = () => {
  return (
    <React.Fragment>
      <h1>こんにちは</h1>
      <p>おげんきですか</p>
    </React.Fragment>
  );
};
```

さらに React.Fragment がめんどくさいので

```jsx
<></>
```

で書いても React.Fragment と同じになる

```jsx
const App = () => {
  return (
    <>
      <h1>こんにちは</h1>
      <p>おげんきですか</p>
    </>
  );
};
```

<br />

# コンポーネントの拡張子

`jsx`

<br />

---

`ちょっと寄り道 ここまで`

<br />

# 簡単なプロジェクトで関数コンポーネントを書いてみよう（ステート付き）

プロジェクトを作る

```zsh
$ yarn create react-app 06-1_react_app
```

public の index.html を修正する

```html
<html lang="ja">
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
    crossorigin="anonymous"
  />
</html>
```

src の App.css の最後に追記する

```css
h1 {
  text-align: right;
  padding: 0px 50px 10px 50px;
  margin: 0px 0px 10px 0px;
}

.subtitle {
  margin: 20px 0px;
  color: #999;
  font-weight: border;
  font-size: 24pt;
}

p {
  margin: 5px 0px;
  color: #666;
  font-size: 16pt;
}
```

App.js を App.jsx に名前変更  
App.jsx を記述する

```jsx
import React, { useState } from 'react';
import './App.css';

const App = () => {
  const [message] = useState('Welcome to Hooks!');

  return (
    <div>
      <h1 className='bg-primary text-white display-4'>React</h1>
      <div className='container'>
        <h4 className='my-3'>Hooks sample</h4>
        <div className='alert alert-primary text-center'>
          <p className='h5'>{message}.</p>
        </div>
      </div>
    </div>
  );
};

export default App;
```

`動かしてみる`

```zsh
$ yarn start
```

### ステートフック

```jsx
import React, { useState } from 'react';
const [<変数A>, <変数B>] = useState(<初期値>);
```

変数 A: ステートの値。ここから現在のステートの値が得られる。  
変数 B: ステートの値を変更する関数。この変数に引数を付けて呼び出すことでステートの値が変更される。
